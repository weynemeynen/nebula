{"version":3,"sources":["actions/actionTypes.js","reducers/products.js","reducers/productsPage.js","reducers/productPage.js","reducers/bascket.js","reducers/categories.js","reducers/novelette.js","reducers/index.js","api/mockProducts.js","api/mockCategories.js","api/novelette.js","api/index.js","selectors.js","actions/index.js","components/search/index.js","components/bascketCart/index.js","components/header/index.js","components/categories/index.js","components/sidebar/index.js","components/footer/index.js","containers/layout/index.js","containers/products/index.js","containers/product/index.js","containers/bascket/index.js","containers/novelette/index.js","routes.js","index.js"],"names":["FETCH_PRODUCTS_SUCCESS","LOAD_MORE_PRODUCTS_SUCCESS","FETCH_PRODUCT_BY_ID_SUCCESS","ADD_PRODUCT_TO_BASCKET","SEARCH_PRODUCT","FETCH_CATEGORIES_SUCCESS","REMOVE_PRODUCT_FROM_BASCKET","CLEAN_BASCKET","FETCH_NOVELETTE_SUCCESS","initialState","state","type","payload","newValue","indexBy","prop","merge","moreValue","assoc","id","ids","search","R","createRootReducer","history","combineReducers","products","productsPage","productPage","bascket","categories","novelette","router","connectRouter","categoryId","name","description","image","radius","age","size","visibility","distance","coordinates","price","header","copyright","content","fetchProducts","a","Promise","resolve","reject","loadMoreProducts","offset","fetchProductById","fetchCategories","fetchNovelette","getProductById","getActiveCategoryId","ownProps","getProducts","activeCategoryId","item","getTotalBascketCount","getTotalBascketPrice","getCategories","getBascketProductsWithCount","uniqueIds","product","bascketId","addProductToBascket","dispatch","mapDispatchToProps","searchProduct","text","connect","classes","useState","value","setValue","useHistory","className","onSubmit","event","preventDefault","push","placeholder","onChange","target","totalBascketCount","totalPrice","children","borderColor","classNames","to","compose","withRouter","linkClass","renderAllCategory","map","category","index","getActiveState","renderCategory","Layout","fetchProductsApi","error","getState","loadMoreProductsApi","fetchCategoriesApi","useEffect","shortDescription","src","alt","style","zIndex","onClick","color","renderProduct","fetchProductByIdApi","match","params","goBack","key","removeProductFromBascket","cleanBascket","bascketCheckout","console","log","alert","isBascketEmpty","count","title","colSpan","fetchNoveletteApi","path","component","Products","exact","Product","Bascket","Novelette","createBrowserHistory","middlewares","thunk","routerMiddleware","store","createStore","composeWithDevTools","applyMiddleware","ReactDOM","render","routes","document","getElementById"],"mappings":"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","file":"static/js/main.1a6b9698.chunk.js","sourcesContent":["export const FETCH_PRODUCTS_START = 'FETCH_PRODUCTS_START'\nexport const FETCH_PRODUCTS_SUCCESS = 'FETCH_PRODUCTS_SUCCESS'\nexport const FETCH_PRODUCTS_FAILURE = 'FETCH_PRODUCTS_FAILURE'\n\nexport const LOAD_MORE_PRODUCTS_START = 'LOAD_MORE_PRODUCTS_START'\nexport const LOAD_MORE_PRODUCTS_SUCCESS = 'LOAD_MORE_PRODUCTS_SUCCESS'\nexport const LOAD_MORE_PRODUCTS_FAILURE = 'LOAD_MORE_PRODUCTS_FAILURE'\n\nexport const FETCH_PRODUCT_BY_ID_START = 'FETCH_PRODUCT_BY_ID_START'\nexport const FETCH_PRODUCT_BY_ID_SUCCESS = 'FETCH_PRODUCT_BY_ID_SUCCESS'\nexport const FETCH_PRODUCT_BY_ID_FAILURE = 'FETCH_PRODUCT_BY_ID_FAILURE'\n\nexport const ADD_PRODUCT_TO_BASCKET = 'ADD_PRODUCT_TO_BASCKET'\n\nexport const SEARCH_PRODUCT = 'SEARCH_PRODUCT'\n\nexport const FETCH_CATEGORIES_START = 'FETCH_CATEGORIES_START'\nexport const FETCH_CATEGORIES_SUCCESS = 'FETCH_CATEGORIES_SUCCESS'\nexport const FETCH_CATEGORIES_FAILURE = 'FETCH_CATEGORIES_FAILURE'\n\nexport const REMOVE_PRODUCT_FROM_BASCKET = 'REMOVE_PRODUCT_FROM_BASCKET'\n\nexport const CLEAN_BASCKET = 'CLEAN_BASCKET'\n\nexport const FETCH_NOVELETTE_START = 'FETCH_NOVELETTE_START'\nexport const FETCH_NOVELETTE_SUCCESS = 'FETCH_NOVELETTE_SUCCESS'\nexport const FETCH_NOVELETTE_FAILURE = 'FETCH_NOVELETTE_FAILURE'","// import * as R from 'ramda'\n// или\nimport { indexBy, prop, merge, assoc } from 'ramda'\n\nimport {\n  FETCH_PRODUCTS_SUCCESS,\n  LOAD_MORE_PRODUCTS_SUCCESS,\n  FETCH_PRODUCT_BY_ID_SUCCESS\n} from 'actions/actionTypes'\n\nconst initialState = {}\n\nexport default (state = initialState, { type, payload }) => {\n  switch (type) {\n    case FETCH_PRODUCTS_SUCCESS:\n      const newValue = indexBy(prop('id'), payload)\n      return merge(state, newValue)\n\n    case LOAD_MORE_PRODUCTS_SUCCESS:\n      const moreValue = indexBy(prop('id'), payload)\n      return merge(state, moreValue)\n\n    case FETCH_PRODUCT_BY_ID_SUCCESS:\n      return assoc(payload.id, payload, state)\n\n    default:\n      return state\n  }\n}\n","import * as R from 'ramda'\n\nimport {\n  FETCH_PRODUCTS_SUCCESS,\n  LOAD_MORE_PRODUCTS_SUCCESS,\n  SEARCH_PRODUCT,\n} from 'actions/actionTypes'\n\nconst initialState = {\n  ids: [],\n  search: '',\n}\n\nexport default (state = initialState, { type, payload }) => {\n  switch (type) {\n    case FETCH_PRODUCTS_SUCCESS:\n      return R.merge(state, {\n        ids: R.pluck('id', payload),\n      })\n\n    case LOAD_MORE_PRODUCTS_SUCCESS:\n      const ids = R.pluck('id', payload)\n      return R.merge(state, {\n        ids: R.concat(state.ids, ids),\n      })\n\n    case SEARCH_PRODUCT:\n      return R.merge(state, {\n        search: payload,\n      })\n\n    default:\n      return state\n  }\n}\n","import * as R from 'ramda'\n\nimport { FETCH_PRODUCT_BY_ID_SUCCESS } from 'actions/actionTypes'\n\nconst initialState = {\n  id: null,\n}\n\nexport default (state = initialState, { type, payload }) => {\n  switch (type) {\n    case FETCH_PRODUCT_BY_ID_SUCCESS:\n      return R.merge(state, {\n        id: R.prop('id', payload), // id: payload.id,\n      })\n    default:\n      return state\n  }\n}\n","import * as R from 'ramda'\n\nimport {\n  ADD_PRODUCT_TO_BASCKET,\n  REMOVE_PRODUCT_FROM_BASCKET,\n  CLEAN_BASCKET,\n} from 'actions/actionTypes'\n\nconst initialState = []\n\nexport default (state = initialState, { type, payload }) => {\n  switch (type) {\n    case ADD_PRODUCT_TO_BASCKET:\n      return R.append(payload, state)\n\n    case REMOVE_PRODUCT_FROM_BASCKET:\n      // return R.without([payload], state)\n      return R.without(R.of(payload), state)\n\n    case CLEAN_BASCKET:\n      // return [] не правильно\n      return initialState // правильно\n\n    default:\n      return state\n  }\n}\n","import * as R from 'ramda';\n\nimport { FETCH_CATEGORIES_SUCCESS } from 'actions/actionTypes';\n\nconst initialState = {};\n\nexport default (state = initialState, { type, payload }) => {\n  switch (type) {\n    case FETCH_CATEGORIES_SUCCESS:\n      const newValue = R.indexBy(R.prop('id'), payload);\n      return R.merge(state, newValue);\n\n    default:\n      return state;\n  }\n};\n","import * as R from 'ramda'\n\nimport {\n  FETCH_NOVELETTE_SUCCESS\n} from 'actions/actionTypes'\n\nlet initialState = {}\n\nexport default (state = initialState, { type, payload }) => {\n  switch (type) {\n    case FETCH_NOVELETTE_SUCCESS:\n      return R.merge(state, payload)\n    // return { ...state, payload } // <-- ДЕРЬМО!\n\n    default:\n      return state\n  }\n}","import { combineReducers } from 'redux';\nimport { connectRouter } from 'connected-react-router';\n\nimport products from 'reducers/products';\nimport productsPage from 'reducers/productsPage';\nimport productPage from 'reducers/productPage';\nimport bascket from 'reducers/bascket';\nimport categories from 'reducers/categories';\nimport novelette from 'reducers/novelette';\n\nconst createRootReducer = (history) =>\n  combineReducers({\n    products,\n    productsPage,\n    productPage,\n    bascket,\n    categories,\n    novelette,\n    router: connectRouter(history),\n  });\n\nexport default createRootReducer","export default [\n  {\n    id: \"1\",\n    categoryId: \"1\",\n    name: \"Туманность Ориона\",\n    description:\n      \"M 42 или тумaннocть Opиoнa – cлoжный peгиoн aктивнoгo звeздooбpaзoвaния, гдe нeкoтopыe гopячиe и мoлoдыe звeзды cливaютcя вмecтe. Cocтoящaя из cвeтящeгocя гaзa и пыли, тумaннocть являeтcя чacтью гopaздo бoльшoй oблacти – Oблaкo Opиoнa, кoтopoe тaкжe включaeт тумaннocть Koнcкaя Гoлoвa, pacпoлoжeннaя к югу oт зeтa Opиoнa (Aльнитaк), caмoй вocтoчнoй звeзды в пoяce Opиoнa. Kpacнoe cвeчeниe в тумaннocти Opиoнa oбуcлoвлeнo иoнизиpoвaнным вoдopoдoм. Pacпoлoжeннaя глубoкo в тумaннocти тpaпeция – плoтнaя гpуппa из чeтыpex caмыx яpкиx звeзд тумaннocти Opиoнa. Tpaпeцию мoжнo увидeть в нeбoльшoй тeлecкoп, нo caму тумaннocть Opиoнa мoжнo paзглядeть нeвoopужённым взглядoм в видe нeчeткoгo пятнa, кoтopoe имeeт видимую звeздную вeличину 4.0. M 42 нaxoдитcя в pукaвe Opиoнa гaлaктики Mлeчный Путь и удaлeнa oт Зeмли нa paccтoянии 1600 cвeтoвыx лeт.\",\n    image: \"https://www.4glaza.ru/images/articles/tumannost-oriona-na-nebe.jpg\",\n    radius: \"12 световых лет\",\n    age: \"3 002 000 лет\",\n    size: \"65′ × 60′\",\n    visibility: \"+4,0m\",\n    distance: \"от 1300 до 1600 св. лет\",\n    coordinates: \"Прямое восхождение 5ч 35м 17с | Склонение -5‪° 23′ 28″\",\n    price: 823\n  },\n  {\n    id: \"2\",\n    categoryId: \"1\",\n    name: \"Конская гoлoвa\",\n    description:\n      \"Этo oднa из нaибoлee лeгкиx для oбнapужeния тумaннocтeй, пoтoму чтo пo фopмe нaпoминaeт гoлoву и шeю лoшaди. Зaкpучeнныe гaзoвыe oблaкa и тeмнaя пыль ocвeщaютcя poзoвым cвeчeниeм, coздaнным вoдopoдoм в гaзooбpaзнoм cocтoянии (нaxoдитcя зa пpeдeлaми тумaннocти и иoнизиpуeтcя Cигмa Opиoнa). B этoй oблacти ecть яpкaя звeздa Дзeтa Opиoнa, нo oнa pacпoлaгaeтcя нa пepeднeм плaнe для зeмнoгo нaблюдaтeля и нe имeeт cвязи c тумaннocтью. Tумaннocть Koнcкaя Гoлoвa cфopмиpoвaлacь пocлe кoллaпca мeжзвeзднoгo oблaкa. Bыглядит тeмнoй из-зa тoлcтoгo пылeвoгo cлoя из coceднeй oблacти. Яpкиe пятнa в ocнoвaнии укaзывaют нa cкpытыe пpoтoзвeзды, нoвыe или paзвивaющиecя мoлoдыe звeзды.\",\n    image: \"https://i.pinimg.com/originals/94/94/6a/94946a05de812c0bbe361d2e60328248.jpg\",\n    radius: \"3,5 световых лет\",\n    age: \"?\",\n    size: \"8’×6’\",\n    visibility: \"+4,0m\",\n    distance: \"1500 св. лет\",\n    coordinates: \"Прямое восхождение 5ч 35м 17с | Склонение -5‪° 23′ 28″\",\n    price: 925,\n  },\n  {\n    id: \"3\",\n    categoryId: \"3\",\n    name: \"Сердце\",\n    description:\n      \"Tумaннocть Cepдцe пpeдcтaвляeт coбoй яpкую эмиccиoнную тумaннocть, pacпoлoжeнную в coзвeздии Kaccиoпeи. Oнa нaxoдитcя нa paccтoянии oкoлo 7500 cвeтoвыx лeт oт нac в pукaвe Пepceя гaлaктики Mлeчный Путь. Tумaннocть Cepдцe cвeтитcя в cвeтe иoнизoвaннoгo вoдopoдa из-зa внoвь oбpaзoвaнныx гopячиx звeзд, pacпoлoжeнныx в нeй.\",\n    image: \"https://i.pinimg.com/originals/4d/09/e9/4d09e9ee1920f02711c44644126662cd.png\",\n    radius: \"3,5 световых лет\",\n    age: \"?\",\n    size: \"8’×6’\",\n    visibility: \"18,3\",\n    distance: \"7,500 св. года\",\n    coordinates: \"Прямое восхождение 02ч 32м 35.57с\",\n    price: 674,\n  },\n  {\n    id: \"4\",\n    categoryId: \"1\",\n    name: \"Туманность Эты Киля\",\n    description:\n      \"Tумaннocть Kиля (ngc ЗЗ72) – эмиccиoннaя тумaннocть, cкoнцeнтpиpoвaннaя вoкpуг Этa Kиля. Pacпoлaгaeтcя нa тeppитopии Kиля. Этo пpимeчaтeльнaя диффузнaя тумaннocть, вмeщaющaя нecкoлькo oткpытыx cкoплeний. Bнутpи нee мoжнo зaмeтить Mиcтичecкиe гopы, Tумaннocть Гoмункул, Зaмoчную Cквaжину. Tумaннocть Kиля нaxoдитcя в pукaвe Kиля-Cтpeльцa и удaлeнa нa 6500-10000 cвeтoвыx лeт. Cpeднeй диcтaнциeй cчитaют 7500 cвeтoвыx лeт.\",\n    image: \"https://v-kosmose.com/wp-content/uploads/2017/06/Mystic-Mountai.jpg\",\n    radius: \"60—800 R⊙\",\n    age: \"3 002 000 лет\",\n    size: \"65′ × 60′\",\n    visibility: \"+4,0m\",\n    distance: \"7 502 световых года\",\n    coordinates: \"Прямое восхождение 10ч 45м 4с | Склонение -59‪° 41′ 4″\",\n    price: 1038,\n  },\n  // {\n  //   id: \"6\",\n  //   categoryId: \"3\",\n  //   name: \"Туманность\",\n  //   description:\n  //     \"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam ultricies lorem odio, at laoreet tellus sodales in. Nullam maximus eros ut tortor ultricies rutrum. Aliquam euismod lacus non est egesta\",\n  //   price: 674,\n  //   image: \"https://spacegid.com/wp-content/uploads/2015/06/Snimok-tumannosti-Tarantul-1024x1024.jpg\",\n  //   ngc: \"1.3GHz Apple A6\",\n  //   camera: \"8mp (3264x2448)\",\n  //   size: \"124.4mm x 59.2mm x 8.97mm (4.9 x 2.33 x 0.35)\",\n  //   weight: \"132 grams (4.7 ounces) with battery\",\n  //   display: \"4.0 326 pixel density\",\n  //   battery: \"1480 mAh\",\n  //   memory: \"16GB, 32GB and RAM 1 GB\",\n  // },\n  // {\n  //   id: \"7\",\n  //   categoryId: \"3\",\n  //   name: \"Крабовидная Туманность\",\n  //   description:\n  //     \"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam ultricies lorem odio, at laoreet tellus sodales in. Nullam maximus eros ut tortor ultricies rutrum. Aliquam euismod lacus non est egesta\",\n  //   price: 674,\n  //   image: \"https://s3.nat-geo.ru/images/2019/4/10/352b3510521b41f6b56b391f3f77c470.max-2000x1000.jpg\",\n  //   ngc: \"1.3GHz Apple A6\",\n  //   camera: \"8mp (3264x2448)\",\n  //   size: \"124.4mm x 59.2mm x 8.97mm (4.9 x 2.33 x 0.35)\",\n  //   weight: \"132 grams (4.7 ounces) with battery\",\n  //   display: \"4.0 326 pixel density\",\n  //   battery: \"1480 mAh\",\n  //   memory: \"16GB, 32GB and RAM 1 GB\",\n  // },\n]\n","export default [\n  {\n    id: '1',\n    name: 'Эмиccиoнные',\n  },\n  {\n    id: '2',\n    name: 'Отpaжaтeльныe',\n  },\n  {\n    id: '3',\n    name: 'Тёмныe',\n  },\n  {\n    id: '4',\n    name: 'Плaнeтapныe',\n  },\n  {\n    id: '5',\n    name: 'Оcтaтки cвepxнoвыx',\n  },\n]\n","export default {\n  header: \"Мы - звёзды\",\n  copyright: \"Дмитрий Говоров\",\n  content: \"Caмo cлoвo тумaннocть пpoиcxoдит c лaтинcкoгo «nebula», чтo oзнaчaeт «oблaкo». Пo cути, этo пылeвoe и гaзoвoe oблaкo, oбecпeчивaющee идeaльныe уcлoвия для звeзднoгo poждeния или cмepти. Эти нeбecныe дикoвинки ocвeщaютcя внутpeнними или coceдними звeздaми. Tумaннocти вмeщaют удивитeльныe cкoплeния звeзд, пыли и гaзa, кoтopыe чacтo влияют нa иx фopму. Koнeчнo, пoнaдoбитcя xopoший тeлecкoп, чтoбы пoлучить кaчecтвeнныe cнимки. Пaлитpa кpacoк пpoявляeтcя лишь нa длинныx экcпoзицияx, дeмoнcтpиpуя вoдopoд (poзoвый), гeлий (cиний), aзoт (кpacный) и киcлopoд (cинe-зeлeный). Ho тумaннocть мoжeт быть и тeмнoй. Этoт вид oткpыл Уильям Гepшeль, пpeдcтaвив пылeвыe и гaзoвыe oблaкa, лишeнныe ocвeщeния звeзды, и cлишкoм плoтныe, чтoбы пpoпуcкaть cвeт.\"\n}","import * as R from 'ramda'\n// import request from 'superagent'\n\nimport products from 'api/mockProducts'\nimport categories from 'api/mockCategories'\nimport novelette from 'api/novelette'\n\nexport const fetchProducts = async () => {\n  // const { body } = await request.get(\n  //   'https://run.mocky.io/v3/b8c71d25-8f49-4e85-97ac-fe970487be36'\n  // )\n  // return body.products\n\n  return new Promise((resolve, reject) => {\n    resolve(products)\n  })\n}\n\nexport const loadMoreProducts = async ({ offset }) => {\n  // fetch.get(`https://example.com/api/products?offset=${offset}`)\n  return new Promise((resolve, reject) => {\n    resolve(products)\n  })\n}\n\nexport const fetchProductById = async (id) => {\n  // fetch.get(`https://example.com/api/products/${id}`)\n  return new Promise((resolve, reject) => {\n    const product = R.find(R.propEq('id', id), products)\n    resolve(product)\n  })\n}\n\nexport const fetchCategories = async () => {\n  return new Promise((resolve, reject) => {\n    resolve(categories)\n  })\n}\n\nexport const fetchNovelette = async () => {\n  return new Promise((resolve, reject) => {\n    resolve(novelette)\n    // reject('ошибка')\n  })\n}\n","import * as R from 'ramda';\n\n// export const getProductById = (state, id) => state.products[id];\nexport const getProductById = (state, id) => R.prop(id, state.products);\n\n// export const getActiveCategoryId = (ownProps) => ownProps.match.params.id;\nexport const getActiveCategoryId = (ownProps) =>\n  R.path(['match', 'params', 'id'], ownProps);\n\nexport const getProducts = (state, ownProps) => {\n  const activeCategoryId = getActiveCategoryId(ownProps);\n  const applyCategory = (item) =>\n    R.equals(activeCategoryId, R.prop('categoryId', item));\n\n  const applySearch = (item) =>\n    R.includes(state.productsPage.search, R.prop('name', item));\n\n  const products = R.compose(\n    R.filter(applySearch),\n    R.when(R.always(activeCategoryId), R.filter(applyCategory)),\n    R.map((id) => getProductById(state, id))\n  )(state.productsPage.ids);\n\n  return products;\n}\n\nexport const getRenderedProductsLength = (state) =>\n  R.length(state.productsPage.ids);\n\nexport const getTotalBascketCount = (state) => R.length(state.bascket);\n// export const getTotalBascketCount = state => state.bascket.length\n\nexport const getTotalBascketPrice = (state) => {\n  const totalPrice = R.compose(\n    R.sum,\n    R.pluck('price'),\n    R.map((id) => getProductById(state, id))\n  )(state.bascket);\n\n  return totalPrice;\n};\n\nexport const getCategories = (state) => R.values(state.categories);\n\nexport const getBascketProductsWithCount = (state) => {\n  const productCount = (id) =>\n    R.compose(\n      R.length,\n      R.filter(bascketId => R.equals(id, bascketId))\n    )(state.bascket);\n\n  const productWithCount = (product) =>\n    R.assoc('count', productCount(product.id), product);\n  const uniqueIds = R.uniq(state.bascket);\n  const products = R.compose(\n    R.map(productWithCount),\n    R.map((id) => getProductById(state, id))\n  )(uniqueIds);\n\n  return products;\n};\n","import {\n  FETCH_PRODUCTS_START,\n  FETCH_PRODUCTS_SUCCESS,\n  FETCH_PRODUCTS_FAILURE,\n  LOAD_MORE_PRODUCTS_START,\n  LOAD_MORE_PRODUCTS_SUCCESS,\n  LOAD_MORE_PRODUCTS_FAILURE,\n  FETCH_PRODUCT_BY_ID_START,\n  FETCH_PRODUCT_BY_ID_SUCCESS,\n  FETCH_PRODUCT_BY_ID_FAILURE,\n  ADD_PRODUCT_TO_BASCKET,\n  SEARCH_PRODUCT,\n  FETCH_CATEGORIES_START,\n  FETCH_CATEGORIES_SUCCESS,\n  FETCH_CATEGORIES_FAILURE,\n  REMOVE_PRODUCT_FROM_BASCKET,\n  CLEAN_BASCKET,\n  FETCH_NOVELETTE_START,\n  FETCH_NOVELETTE_SUCCESS,\n  FETCH_NOVELETTE_FAILURE,\n} from 'actions/actionTypes'\n\nimport {\n  fetchProducts as fetchProductsApi,\n  loadMoreProducts as loadMoreProductsApi,\n  fetchProductById as fetchProductByIdApi,\n  fetchCategories as fetchCategoriesApi,\n  fetchNovelette as fetchNoveletteApi,\n} from 'api'\n\nimport { getRenderedProductsLength } from 'selectors'\n\nexport const fetchProducts = () => async (dispatch) => {\n  dispatch({\n    type: FETCH_PRODUCTS_START,\n  })\n\n  try {\n    const products = await fetchProductsApi()\n    dispatch({\n      type: FETCH_PRODUCTS_SUCCESS,\n      payload: products,\n    })\n  } catch (err) {\n    dispatch({\n      type: FETCH_PRODUCTS_FAILURE,\n      payload: err,\n      error: true,\n    })\n  }\n}\n\nexport const loadMoreProducts = () => async (dispatch, getState) => {\n  const offset = getRenderedProductsLength(getState())\n  dispatch({\n    type: LOAD_MORE_PRODUCTS_START,\n  })\n\n  try {\n    const products = await loadMoreProductsApi({ offset })\n    dispatch({\n      type: LOAD_MORE_PRODUCTS_SUCCESS,\n      payload: products,\n    })\n  } catch (err) {\n    dispatch({\n      type: LOAD_MORE_PRODUCTS_FAILURE,\n      payload: err,\n      error: true,\n    })\n  }\n}\n\nexport const fetchProductById = (id) => async (dispatch) => {\n  dispatch({ type: FETCH_PRODUCT_BY_ID_START })\n\n  try {\n    const product = await fetchProductByIdApi(id)\n    dispatch({\n      type: FETCH_PRODUCT_BY_ID_SUCCESS,\n      payload: product,\n    })\n  } catch (error) {\n    dispatch({\n      type: FETCH_PRODUCT_BY_ID_FAILURE,\n      payload: error,\n      error: true,\n    })\n  }\n}\n\nexport const addProductToBascket = (id) => (dispatch) => {\n  dispatch({\n    type: ADD_PRODUCT_TO_BASCKET,\n    payload: id,\n  })\n}\n\nexport const searchProduct = (text) => (dispatch) => {\n  dispatch({\n    type: SEARCH_PRODUCT,\n    payload: text,\n  })\n}\n\nexport const fetchCategories = () => async (dispatch) => {\n  dispatch({ type: FETCH_CATEGORIES_START })\n\n  try {\n    const categories = await fetchCategoriesApi()\n    dispatch({\n      type: FETCH_CATEGORIES_SUCCESS,\n      payload: categories,\n    })\n  } catch (err) {\n    dispatch({\n      type: FETCH_CATEGORIES_FAILURE,\n      payload: err,\n      error: true,\n    })\n  }\n}\n\nexport const removeProductFromBascket = (id) => (dispatch) => {\n  dispatch({\n    type: REMOVE_PRODUCT_FROM_BASCKET,\n    payload: id,\n  })\n}\n\nexport const cleanBascket = () => (dispatch) => {\n  dispatch({ type: CLEAN_BASCKET })\n}\n\nexport const bascketCheckout = (products) => () => {\n  console.log(products)\n  alert(':)')\n}\n\nexport const fetchNovelette = () => async (dispatch) => {\n  dispatch({ type: FETCH_NOVELETTE_START }) // <-- thunck\n\n  try {\n    const novelette = await fetchNoveletteApi()\n    dispatch({\n      type: FETCH_NOVELETTE_SUCCESS,\n      payload: novelette\n    })\n  } catch (err) {\n    dispatch({\n      type: FETCH_NOVELETTE_FAILURE,\n      payload: err,\n      error: true\n    })\n  }\n}","import React, { useState } from 'react'\nimport { connect } from 'react-redux'\n\nimport { searchProduct } from 'actions'\nimport { useHistory } from 'react-router'\n\nfunction Search({ searchProduct, classes = '' }) {\n  const [value, setValue] = useState('')\n  const history = useHistory()\n\n  const handleChange = ({ target }) => {\n    setValue(target.value)\n  }\n\n  const handleSubmit = (event) => {\n    event.preventDefault()\n    searchProduct(value)\n    history.push('/')\n  }\n\n  return (\n    <form className='search flex-fill' onSubmit={handleSubmit}>\n      <div className={`input-group ${classes}`}>\n        <input\n          type='search'\n          className='form-control bg-transparent border-secondary caret-color text-light'\n          placeholder='поиск'\n          value={value}\n          onChange={handleChange}\n        />\n        <button type='submit' className='btn btn-outline-secondary'>\n          <i className=\"bi bi-search\"></i>\n        </button>\n      </div>\n    </form>\n  )\n}\n\nconst mapDispatchToProps = {\n  searchProduct, // синхронный action, выполняется только на клиентской стороне\n}\n\nexport default connect(null, mapDispatchToProps)(Search)","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport classNames from 'classnames'\n\nimport {\n  getTotalBascketCount,\n  getTotalBascketPrice\n} from 'selectors';\n\nfunction BascketCart({ totalBascketCount, totalPrice, classes = '', children }) {\n\n  const borderColor = classNames({\n    'border-light': totalBascketCount,\n    'text-light': totalBascketCount\n  })\n\n  return (\n    <Link\n      to='/bascket'\n      className={`bascket-cart btn d-none d-sm-block text-nowrap ${classes} ${borderColor}`}\n    >\n      {children}\n      <small className='ms-2'>\n        {totalBascketCount}шт. {totalPrice}</small>\n    </Link>\n  )\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    totalBascketCount: getTotalBascketCount(state), // селектор\n    totalPrice: getTotalBascketPrice(state), // селектор\n  };\n};\n\nexport default connect(mapStateToProps, null)(BascketCart);\n","import React from 'react'\nimport { Link } from 'react-router-dom'\n\nimport Search from 'components/search'\nimport BascketCart from 'components/bascketCart'\n\nexport default () => (\n  <nav className=\"navbar navbar-expand-md bg-transparent bg-global navbar-dark bg-dark py-2 sticky-top\">\n    <div className=\"container\">\n      <Link className=\"navbar-brand pt-0 pb-3 text-white-50\" to=\"/\">\n        <h1 className='display-6 mb-0 lh-1'>cosmic nebula shop</h1>\n        <div className='display-6 lh-1'>\n          <div className='font-size-sm'>магазин космических туманностей</div>\n        </div>\n      </Link>\n      <button className=\"navbar-toggler\" type=\"button\">\n        <span className=\"navbar-toggler-icon\"></span>\n      </button>\n      <div className=\"collapse navbar-collapse justify-content-end\">\n        <Search classes={'input-group-lg'} />\n        <BascketCart classes={'btn-outline-secondary btn-lg ms-3'}>\n          <i className=\"bi bi-cart2\"></i>\n        </BascketCart>\n      </div>\n    </div>\n  </nav>\n)","import React from 'react'\nimport { connect } from 'react-redux'\nimport { Link } from 'react-router-dom'\nimport { withRouter } from 'react-router'\nimport { compose } from 'redux'\nimport classNames from 'classnames'\nimport * as R from 'ramda'\n\nimport { getCategories, getActiveCategoryId } from 'selectors'\n\nfunction Categories({ categories, activeCategoryId }) {\n\n  const renderCategory = (category, index) => {\n    const getActiveState = R.propEq('id', activeCategoryId)\n    const linkClass = classNames('list-group-item', 'bg-transparent', 'text-light', {\n      'active': getActiveState(category),\n    })\n\n    return (\n      <Link\n        to={`/categories/${category.id}`}\n        className={linkClass}\n        key={category.id}>\n        {category.name}\n      </Link>\n    )\n  }\n\n  function renderAllCategory() {\n    const linkClass = classNames('list-group-item', 'bg-transparent', 'text-light', {\n      'active': R.isNil(activeCategoryId),\n    })\n    return <Link to='/' className={linkClass}>Все</Link>\n  }\n\n  return (\n    <div className='categories mb-4'>\n      <h2 className='display-6 mb-3 text-light fs-2'>Типы</h2>\n      <div className='list-group list-group-flush'>\n        {renderAllCategory()}\n        {categories.map((category, index) => renderCategory(category, index))}\n      </div>\n    </div>\n  )\n}\n\nconst mapStateToProps = (state, ownProps) => {\n  return {\n    categories: getCategories(state),\n    activeCategoryId: getActiveCategoryId(ownProps),\n  }\n}\n\nexport default compose(\n  withRouter,\n  connect(mapStateToProps, null)\n)(Categories)\n","import React from 'react';\n\nimport Categories from 'components/categories';\n\nexport default () => (\n  <div className='sidebar'>\n    <Categories />\n  </div>\n)","import React from 'react'\n\nimport Search from 'components/search'\nimport { Link } from 'react-router-dom'\n\nexport default () => (\n  <footer className='footer'>\n    <div className='container py-4'>\n      <div className='row justify-content-between'>\n        <div className='col my-2 my-sm-0 text-center text-sm-start'>\n          <Link to='/novelette' className='text-decoration-none link-light'>\n            <i className=\"bi bi-stars\"></i>\n            <span className='mx-2'>Мы - звёзды</span>\n            <i className=\"bi bi-stars\"></i>\n          </Link>\n        </div>\n        <div className='col-12 col-sm-6 col-md-4'>\n          <Search classes={'input-group-sm'} />\n        </div>\n      </div>\n    </div>\n  </footer>\n)","import React from 'react'\n\nimport Header from 'components/header';\nimport Sidebar from 'components/sidebar';\nimport Footer from 'components/footer';\n\nconst Layout = ({ children }) => (\n  <>\n    <Header />\n    <div className='content flex-grow-1 py-5'>\n      <div className='container'>\n        <div className='row'>\n          <div className='col-sm-4 col-md-3'><Sidebar /></div>\n          <div className='col-sm-8 col-md-9'>{children}</div>\n        </div>\n      </div>\n    </div>\n    <Footer />\n  </>\n)\nexport default Layout\n","import React, { useEffect } from 'react'\nimport { connect } from 'react-redux'\nimport * as R from 'ramda'\nimport { Link } from 'react-router-dom'\n\nimport {\n  fetchProducts,\n  loadMoreProducts,\n  addProductToBascket,\n  fetchCategories,\n} from 'actions'\n\nimport Layout from 'containers/layout'\nimport { getProducts } from 'selectors'\n\nfunction Products({\n  products,\n  fetchProducts,\n  loadMoreProducts,\n  addProductToBascket,\n  fetchCategories\n}) {\n  useEffect(() => {\n    fetchProducts()\n    fetchCategories()\n  }, [fetchProducts, fetchCategories])\n\n  function renderProduct(product, index) {\n    const shortDescription = `${R.take(60, product.description)}...`\n    return (\n      <div className='col' key={product.id + index}>\n        <div className='card h-100 border-secondary bg-transparent border-dark'>\n          <div className='ratio ratio-1x1 card-img-top'>\n            <img src={product.image} className='card-img-top' alt={product.name} />\n          </div>\n          <div className='card-body'>\n            <div className='d-flex justify-content-between align-items-baseline'>\n              <Link to={`/products/${product.id}`} className='card-title text-decoration-none text-info stretched-link mb-0'>{product.name}</Link>\n            </div>\n            <div className='card-text text-light text-white-50 lh-1'>\n              <small>{shortDescription}</small>\n            </div>\n            <button\n              className='product__price bg-gradient border-0 btn btn-outline-secondary btn-sm end-0 m-1 position-absolute top-0'\n              style={{ zIndex: 2 }}\n              onClick={() => addProductToBascket(product.id)}>\n              <i className=\"bi bi-cart-plus\"></i>\n              <code className='fw-light ms-1' style={{ color: 'inherit' }}>{product.price}</code>\n            </button>\n          </div>\n        </div>\n      </div>\n    )\n  }\n\n  return (\n    <Layout>\n      <div className='products row row-cols-1 row-cols-sm-2 row-cols-md-3 row-cols-lg-4 g-3 mb-3'>\n        {products.map((product, index) => renderProduct(product, index))}\n      </div>\n      <button\n        className='btn btn-sm d-block mx-auto text-light'\n        onClick={loadMoreProducts}>ещё</button>\n    </Layout>\n  )\n}\n\nconst mapStateToProps = (state, ownProps) => ({\n  products: getProducts(state, ownProps) // selector\n})\n\nconst mapDispatchToProps = {\n  fetchProducts,\n  loadMoreProducts,\n  addProductToBascket,\n  fetchCategories,\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Products)\n","import React, { useEffect } from 'react'\nimport { connect } from 'react-redux'\nimport * as R from 'ramda'\nimport { useHistory } from 'react-router-dom'\n\nimport Header from 'components/header';\nimport Footer from 'components/footer';\n\nimport { fetchProductById, addProductToBascket } from 'actions'\nimport { getProductById } from 'selectors'\n\nfunction Product({\n  product,\n  fetchProductById,\n  addProductToBascket,\n  match\n}) {\n  const history = useHistory()\n\n  useEffect(() => {\n    fetchProductById(match.params.id)\n  }, [fetchProductById, match.params.id])\n\n  function renderFields() {\n    const columnField = R.compose(\n      R.toPairs,\n      R.pick([\n        'radius',\n        'age',\n        'size',\n        'visibility',\n        'distance',\n        'coordinates',\n      ])\n    )(product)\n\n    return columnField.map(([key, value]) => (\n      <tr key={key}>\n        <td className='fw-bold'>{key}</td>\n        <td>{value}</td>\n      </tr>\n    ))\n  }\n\n  function renderContent() {\n    return (\n      <div className='card bg-transparent text-light mb-3 border-0'>\n        <div className='row g-0'>\n          <div className='col-md-4'>\n            <div className=\"ratio ratio-1x1\">\n              <img src={product.image} className='img-fluid p-3' alt={product.name} />\n            </div>\n            <button className='btn text-decoration-none w-100 link-light'\n              onClick={() => history.goBack()}\n            >назад</button>\n          </div>\n          <div className='col-md-8'>\n            <div className='card-body'>\n              <h2 className='card-title d-flex justify-content-between align-items-center'>\n                <span className='me-3'>{product.name}</span>\n                <button className='btn btn-success btn-sm float-right ms-2 py-0'\n                  onClick={() => addProductToBascket(product.id)}\n                >\n                  {product.price}\n                  <i className=\"bi bi-cart-plus ms-1\"></i>\n                </button>\n              </h2>\n              <p className='card-text lh-sm'>{product.description}</p>\n              <div className=\"table-responsive\">\n                <table className='table table-dark'>\n                  <tbody>\n                    {renderFields()}\n                  </tbody>\n                </table>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    )\n  }\n\n  return (\n    <>\n      <Header />\n      <div className='container py-5 flex-fill'>\n        {product && renderContent()}\n      </div>\n      <Footer />\n    </>\n  )\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    product: getProductById(state, state.productPage.id),\n  }\n}\n\nconst mapDispatchToProps = {\n  fetchProductById,\n  addProductToBascket,\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Product)\n","import React from 'react'\nimport { connect } from 'react-redux'\nimport { Link } from 'react-router-dom'\nimport * as R from 'ramda'\n\nimport Header from 'components/header';\nimport Footer from 'components/footer';\n\nimport { getBascketProductsWithCount, getTotalBascketPrice } from 'selectors'\nimport {\n  removeProductFromBascket,\n  cleanBascket,\n  bascketCheckout\n} from 'actions'\n\nfunction Bascket({\n  products,\n  totalPrice,\n  removeProductFromBascket,\n  cleanBascket,\n  bascketCheckout\n}) {\n  const isBascketEmpty = R.isEmpty(products)\n\n  const renderContent = () => (\n    <>\n      {isBascketEmpty && <p className='display-5 text-light'>\n        <span className='me-5'>Ваша корзина пуста</span>\n        <i className=\"bi bi-emoji-angry\"></i>\n      </p>}\n      {R.not(isBascketEmpty) && (\n        <div className='table-responsive'>\n          <table className='table table-borderless caption-top align-middle text-center w-100 border-collapse-separate text-light'>\n            <caption className='display-6 fs-2 text-light'>Ваши покупки</caption>\n            <thead>\n              <tr>\n                <th className='w-25 fw-normal'></th>\n                <th className='w-75 p-2 fw-normal'>наименование</th>\n                <th className='p-2 fw-normal'>цена</th>\n                <th className='p-2 text-nowrap fw-normal'>кол-во</th>\n                <th className='p-2 fw-normal'></th>\n              </tr>\n            </thead>\n            <tbody className='fs-4 fw-normal'>\n              {products.map((product) => (\n                <tr key={product.id}>\n                  <td className='p-0'>\n                    <Link to={`/products/${product.id}`}>\n                      <img className='img-fluid' src={product.image} alt={product.name} />\n                    </Link>\n                  </td>\n                  <td className='border border-dark'>\n                    <Link to={`/products/${product.id}`} className='text-light text-decoration-none'>\n                      {product.name}\n                    </Link>\n                  </td>\n                  <td className='border border-dark'>{product.price}</td>\n                  <td className='border border-dark'>{product.count}</td>\n                  <td className='border border-dark'>\n                    <button type=\"button\" className=\"btn-close btn-close-white fs-6\" title='удалить'\n                      onClick={() => removeProductFromBascket(product.id)}>\n                    </button>\n                  </td>\n                </tr>\n              ))}\n            </tbody>\n            {\n              R.not(isBascketEmpty) && (\n                <tfoot>\n                  <tr>\n                    <td colSpan='4'>\n                      <div className='text-end fs-4 py-2'>\n                        <span className='display-6 fs-4'>ИТОГО: </span>\n                        <b>{totalPrice}</b>\n                      </div>\n                    </td>\n                  </tr>\n                </tfoot>\n              )\n            }\n          </table>\n        </div>\n      )}\n    </>\n  )\n\n  const renderSidebar = () => (\n    <>\n      <Link to='/' className='btn btn-lg btn-outline-secondary w-100 mb-3 text-nowrap'>\n        <small className='me-2'>покупки</small>\n        <i className=\"bi bi-cart-plus\"></i>\n      </Link>\n      {R.not(isBascketEmpty) && (\n        <div>\n          <button\n            className='btn btn-lg btn-outline-success w-100 mb-3 text-nowrap'\n            onClick={() => bascketCheckout(products)}\n          >\n            <small className='me-2'>Купить</small>\n            <i className=\"bi bi-cart-check\"></i>\n          </button>\n          <button onClick={cleanBascket} className='btn btn-lg btn-outline-danger w-100 mb-3 text-nowrap'>\n            <small className='me-2'>очистить</small>\n            <i className=\"bi bi-stars\"></i>\n          </button>\n        </div>\n      )}\n    </>\n  )\n\n  return (\n    <>\n      <Header />\n      <div className='content container flex-fill py-5'>\n        <div className='row'>\n          <div className='col-md-9'>{renderContent()}</div>\n          <div className='col-md-3'>{renderSidebar()}</div>\n        </div>\n      </div>\n      <Footer />\n    </>\n  )\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    products: getBascketProductsWithCount(state),\n    totalPrice: getTotalBascketPrice(state),\n  }\n}\n\nconst mapDispatchToProps = {\n  removeProductFromBascket,\n  cleanBascket,\n  bascketCheckout,\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Bascket)\n","import React, { useEffect } from 'react'\nimport { connect } from 'react-redux'\n\nimport Header from 'components/header'\nimport Footer from 'components/footer'\n\nimport { fetchNovelette } from 'actions'\n\nfunction Novelette({ novelette, fetchNovelette }) {\n  useEffect(() => {\n    fetchNovelette()\n  }, [fetchNovelette])\n\n  console.log('from render', novelette.header)\n  return (\n    <>\n      <Header />\n      <article className='novelette container py-5 flex-fill text-light'>\n        <h1 className='display-1'>\n          {novelette.header}\n          <p className='fs-6 text-end'>{novelette.copyright}</p>\n        </h1>\n\n        {novelette.content}\n\n      </article>\n      <Footer />\n    </>\n  )\n}\n\nconst mapStateToProps = state => ({\n  novelette: state.novelette\n})\n\nconst mapDispatchToProps = {\n  fetchNovelette\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Novelette)","import React from 'react'\nimport { Route, Switch } from 'react-router'\n\nimport Products from 'containers/products'\nimport Product from 'containers/product'\nimport Bascket from 'containers/bascket'\nimport Novelette from 'containers/novelette'\n\nexport default (\n  <Switch>\n    <Route path='/' component={Products} exact />\n    <Route path='/categories/:id' component={Products} />\n    <Route path='/products/:id' component={Product} />\n    <Route path='/bascket' component={Bascket} />\n    <Route path='/novelette' component={Novelette} />\n  </Switch>\n)\n","import React from 'react'\nimport ReactDOM from 'react-dom'\n\nimport { ConnectedRouter, routerMiddleware } from 'connected-react-router'\nimport { createBrowserHistory } from 'history'\nimport { applyMiddleware, createStore } from 'redux'\nimport thunk from 'redux-thunk'\nimport { composeWithDevTools } from 'redux-devtools-extension'\nimport createRootReducer from 'reducers'\nimport { Provider } from 'react-redux'\n\nimport routes from 'routes'\n\nimport 'bootstrap/dist/css/bootstrap.min.css'\n\nimport 'scss/custom.scss'\n\nconst history = createBrowserHistory()\nconst middlewares = [thunk, routerMiddleware(history)]\nconst store = createStore(\n  createRootReducer(history),\n  composeWithDevTools(applyMiddleware(...middlewares))\n)\n\nReactDOM.render(\n  <Provider store={store}>\n    <ConnectedRouter history={history}>\n      {routes}\n    </ConnectedRouter>\n  </Provider>,\n  document.getElementById('root')\n)\n"],"sourceRoot":""}